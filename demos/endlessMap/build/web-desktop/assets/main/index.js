System.register("chunks:///_virtual/wfcLoader.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t,a;return{setters:[function(e){r=e.asyncToGenerator},function(e){n=e.cclegacy,t=e._decorator,a=e.SpriteFrame}],execute:function(){n._RF.push({},"1b3ado9Z/xMTrBK6sVflsaf","wfcLoader",void 0);t.ccclass,t.property;e("WfcLoader",function(){function e(){}return e.xhrLoad=function(e,r){return new Promise((function(n,t){var a=new XMLHttpRequest;a.responseType=r,a.open("GET",e),a.send(),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?n(a):t())}}))},e.getWFC=function(){var e=r(regeneratorRuntime.mark((function e(r){var n,t,o,s,c,u,i,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,t=r+"data.json",e.next=4,this.xhrLoad(t,"json");case 4:if(o=e.sent,s=o.response){e.next=9;break}return alert("没找到 "+t+"!"),e.abrupt("return",n);case 9:for(f in c=[],u={},i=function(e){var n=s.tiles[e],t=""+r+e+n[0],o=new Image;o.src=t,o.crossOrigin="";var i=new Promise((function(r,n){o.onload=function(){var n=a.createWithImage(o);u[e]=n,r(null)},o.onerror=n}));c.push(i)},s.tiles)i(f);return e.next=15,Promise.all(c);case 15:return n={config:s,imgs:u},e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),e}()).cacheMap=new Map,n._RF.pop()}}}));

System.register("chunks:///_virtual/touchMove.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./tileMap.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,p,h,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Vec2,p=t.Vec3,h=t.SystemEventType,c=t.Component},function(t){l=t.TileMap}],execute:function(){var u,v,d,M,m,f,S;r._RF.push({},"21e66PCUnxIuodOr/NUmNbi","touchMove",void 0);var y=s.ccclass,_=s.property;t("TouchMove",(u=y("TouchMove"),v=_({type:l}),u((S=f=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"tileMapObj",m,n(e)),e.startPoint=new a,e.startPos=new p,e.moveDir=new a,e.currMoveSpeed=10,e.maxSpeed=1e3,e.minSpeed=50,e.dampingRate=.1,e}i(e,t);var r=e.prototype;return r.start=function(){this.node.on(h.TOUCH_START,this.onStart,this),this.node.on(h.TOUCH_MOVE,this.onMove,this),this.node.on(h.TOUCH_END,this.onEnd,this),this.node.on(h.TOUCH_CANCEL,(function(t){}))},r.update=function(t){this.damper(t),this.doMoveByDir(t)},r.onStart=function(t){var e,i;(t.getLocation(this.startPoint),this.startPos,null===(e=this.tileMapObj)||void 0===e?void 0:e.node.position)&&a.copy(this.startPos,null===(i=this.tileMapObj)||void 0===i?void 0:i.node.position);this.moveDir.set(0,0)},r.onEnd=function(t){},r.onMove=function(t){var i=e.help_v2;t.getLocation(i),i.subtract(this.startPoint);i.length();a.copy(this.moveDir,i),this.moveDir.normalize()},r.doMoveByDir=function(t){var i,o;if(0!=this.moveDir.lengthSqr()){var n=e.help_v2;a.multiplyScalar(n,this.moveDir,t*this.currMoveSpeed);var r,s=e.help_v3;if(s.set(n.x,n.y,0),null===(i=this.tileMapObj)||void 0===i?void 0:i.node.position)s.add(null===(r=this.tileMapObj)||void 0===r?void 0:r.node.position);null===(o=this.tileMapObj)||void 0===o||o.node.setPosition(s)}},r.damper=function(t){this.currMoveSpeed-=this.dampingRate*this.currMoveSpeed,this.currMoveSpeed=Math.min(this.currMoveSpeed,this.maxSpeed),this.currMoveSpeed=Math.max(this.currMoveSpeed,this.minSpeed)},e}(c),f.help_v2=new a,f.help_v3=new p,m=e((M=S).prototype,"tileMapObj",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=M))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/grid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./eventer.ts"],(function(t){"use strict";var e,o,n,i,s,a,r,l,c,h,p,f;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.Vec3,a=t.Vec2,r=t.Node,l=t.Layers,c=t.Sprite,h=t.UITransform,p=t.Component},function(t){f=t.Eventer}],execute:function(){var u,_,g;t("GridState",void 0),n._RF.push({},"36a9bXXj2lDI6drNbWmMSQX","grid",void 0);var v,d=i.ccclass;i.property;!function(t){t[t.none=0]="none",t[t.collapseing=1]="collapseing",t[t.complete=2]="complete"}(v||(v=t("GridState",{})));t("Grid",d("Grid")((g=_=function(t){function n(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this)._size=100,e._GridPos=new a,e._sp=null,e._wfc=null,e._wfcSpMap=new Map,e._state=v.none,e}e(n,t),n.poolNew=function(){var t=this._poolArr.pop();t?delete t[this.IN_POOL_TAG]:t=new r("grid").addComponent(n);return t},n.poolDelete=function(t){t&&!t[this.IN_POOL_TAG]&&this._poolArr.push(t)},n.getWFC=function(){for(var t,e=0,o=this._wfcPool.length;e<o;e++){var i=this._wfcPool[e];if(!i.isCollapseing){t=i,this._wfcPool.splice(e,1);break}}return t||(t=new WFC.WFC2D(n.wfcDataImg.config)),t},n.storeWFC=function(t){t&&this._wfcPool.push(t)},n.clear=function(){this.posDataMap.clear(),this.posDataMap.clear(),this._wfcPool.length=0,this._poolArr.length=0};var i=n.prototype;return i.start=function(){this.node.on;for(var t=n.tileSize,e=Math.floor(this._size/t),o=0;o<e;o++)for(var i=0;i<e;i++){var s=i+"_"+o,a=new r(s);a.layer=l.Enum.UI_2D,a.parent=this.node,this.node.addChild(a),a.setPosition((i+.5)*t,(o+.5)*t);var p=a.addComponent(c);p.sizeMode=c.SizeMode.CUSTOM,this._wfcSpMap.set(s,p);var f=a.getComponent(h);f.width=t,f.height=t}},i.show=function(t){var e=this,o=this.getPosKey();if(n.posDataMap.get(o))this.refrashDisplay();else{var i,s;n.collapseingMap.set(o,!0);var a=Math.floor(this._size/n.tileSize);null===(i=this.wfc)||void 0===i||i.clearKnown();var r=this.calcaknown(t),l=r&&r.length>0,c=this.calcaHornknown(t);l&&(a+=2,c=c.concat(r)),null===(s=this.wfc)||void 0===s||s.setKnown(c);try{var h;null===(h=this.wfc)||void 0===h||h.collapse(a,a,1e3).then((function(t){n.eventer.Emit(n.ON_COLLAPSED,o),n.collapseingMap.delete(o),t.length<1?console.error("collapse 计算的返回值为空"):o==e.getPosKey()&&(l&&e.cutData(t,a),n.posDataMap.set(o,t),e.refrashDisplay())})).catch((function(t){n.collapseingMap.delete(o),console.error(t)}))}catch(t){console.error(t)}}this._state},i.hide=function(){var t;this._wfcSpMap.forEach((function(t){t&&(t.node.active=!1)})),this._wfc&&(null===(t=this._wfc)||void 0===t?void 0:t.isCollapseing)&&(n.storeWFC(this._wfc),this._wfc=null)},i.setGridPosition=function(t){var e=n.helpV3;e.set(t.x,t.y,0),e=e.multiplyScalar(this._size),this.node.setPosition(e),this._GridPos.set(t.x,t.y)},i.getGridPosition=function(){return this._GridPos.clone()},i.hasData=function(){var t=this.getPosKey();return null!=n.posDataMap.get(t)},i.getPosKey=function(){var t=this._GridPos;return t.x+"_"+t.y},i.refrashDisplay=function(){var t=this.getPosKey();console.log("---- key : "+t);var e=n.posDataMap.get(t),o=this._wfcSpMap;if(e&&o)for(var i=Math.floor(this._size/n.tileSize),a=0,r=e.length;a<r;a++){var l=a%i+"_"+Math.floor((r-1-a)/i),c=o.get(l);if(c){c.node.active=!0,c.spriteFrame=n.wfcDataImg.imgs[e[a][0]],c.node.eulerAngles;var h=n.helpV3;s.set(h,0,0,-90*e[a][1]),c.node.setRotationFromEuler(h)}}},i.calcaHornknown=function(t){var e=[];if(!n.horn||n.horn.length<1)return e;var o,i=t,s=Math.floor(this._size/n.tileSize);return o=i&&i.length>0?s+2-2:s-1,e.push({x:0,y:0,tiles:n.horn}),e.push({x:o,y:0,tiles:n.horn}),e.push({x:o,y:o,tiles:n.horn}),e.push({x:0,y:o,tiles:n.horn}),e},i.calcaknown=function(t){var e=this;if(!(t&&t.length>0))return null;var o=Math.floor(this._size/n.tileSize),i=o+2,s=[];return null==t||t.forEach((function(t,a){var r,l,c=0,h=0,p=e.getGridPosition(),f=[],u=n.posDataMap;switch(t){case 0:if(h++,r=p.x+c+"_"+(p.y+h),l=u.get(r))for(var _=o-1,g=0;g<o;g++){var v=l[_*o+g];f.push({x:g+1,y:0,tiles:[[v[0],v[1]]]})}break;case 1:if(c++,r=p.x+c+"_"+(p.y+h),l=u.get(r))for(var d=i-1,w=0;w<o;w++){var y=l[w*o+0];f.push({x:d,y:w+1,tiles:[[y[0],y[1]]]})}break;case 2:if(h--,r=p.x+c+"_"+(p.y+h),l=u.get(r))for(var M=i-1,P=0;P<o;P++){var D=l[0*o+P];f.push({x:P+1,y:M,tiles:[[D[0],D[1]]]})}break;case 3:if(c--,r=p.x+c+"_"+(p.y+h),l=u.get(r))for(var S=o-1,m=0;m<o;m++){var z=l[m*o+S];f.push({x:0,y:m+1,tiles:[[z[0],z[1]]]})}}s=s.concat(f)})),s},i.cutData=function(t,e){var o=t.concat();t.length=0,o.forEach((function(o,n){var i=n%e,s=Math.floor(n/e);0<i&&i<e-1&&0<s&&s<e-1&&t.push(o)}))},o(n,[{key:"wfc",get:function(){return!this._wfc&&n.wfcDataImg&&(this._wfc=n.getWFC()),this._wfc}},{key:"size",get:function(){return this._size},set:function(t){this._size=t}},{key:"state",get:function(){var t=this.getPosKey();return n.posDataMap.has(t)?v.complete:n.collapseingMap.has(t)?v.collapseing:v.none}}]),n}(p),_.helpV3=new s,_._poolArr=[],_.IN_POOL_TAG="__inPoolTag__",_.posDataMap=new Map,_.collapseingMap=new Map,_._wfcPool=[],_.ON_COLLAPSED="ON_COLLAPSED",_.tileSize=50,_.eventer=new f,u=g))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/eventer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator}],execute:function(){n._RF.push({},"64082O/4ddDQqQMzjCRQqOg","eventer",void 0);r.ccclass,r.property,e("Eventer",function(){function e(){this.events={}}var n=e.prototype;return n.On=function(e,n,r){var s=this.events[e],i=null;if(s)for(var o,c=t(s);!(o=c()).done;){var u=o.value;if(u.func==n){i=u;break}}else s=this.events[e]=[];i?-1==i.thisArgs.lastIndexOf(r)&&i.thisArgs.push(r):s.push({func:n,thisArgs:[r]})},n.Emit=function(e){var n=this.events[e];if(n&&!(n.length<1)){for(var r=n.concat(),s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];for(var c,u=t(r);!(c=u()).done;)for(var v,l=c.value,a=t(l.thisArgs);!(v=a()).done;){var f=v.value;l.func.apply(f,i)}r.length=0}},n.RemoveListener=function(e,t,n){var r=this.events[e];if(r)for(var s=0,i=r.length;s<i;++s)if(t==r[s].func){var o=r[s].thisArgs.lastIndexOf(n);if(-1!=o){r[s].thisArgs.splice(o,1),r[s].thisArgs.length<1&&r.splice(s,1),r.length<1&&delete this.events[e];break}}},n.RemoveListenerAll=function(){this.events={}},n.listenerCount=function(e){return this.events[e]?this.events[e].length:0},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/mapResHandle.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./tileMap.ts"],(function(e){"use strict";var n,t,o,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Component},function(e){s=e.TileMap}],execute:function(){var a;t._RF.push({},"71a77W7SLxGK4u9o7pMNJKV","mapResHandle",void 0);var l=o.ccclass;o.property,e("MapResHandle",l("MapResHandle")(a=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).mapRes="",n}return n(t,e),t.prototype.onCellBtnClick=function(e,n){if(n){var t=JSON.parse(n);console.log("resName : "+this.mapRes);var o=this.node.scene.getComponentInChildren(s);null==o||o.clear(),null==o||o.setRes(t)}},t}(r))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/downList.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./mapResHandle.ts"],(function(t){"use strict";var n,e,i,o,r,a,s,c,l,p,u,d,h,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Button,l=t.instantiate,p=t.Vec3,u=t.Label,d=t.EventHandler,h=t.Component},function(t){f=t.MapResHandle}],execute:function(){var v,y,m,g,w,b,C;r._RF.push({},"b580fX1n4VCjJzJIgCLZeqh","downList",void 0);var L=a.ccclass,D=a.property;t("DownList",(v=L("DownList"),y=D({type:s}),m=D({type:c}),v((b=n((w=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).inited=!1,n.showSV=!1,i(n,"content",b,o(n)),i(n,"btn",C,o(n)),n}e(n,t);var r=n.prototype;return r.tryToInit=function(){var t,e=this;if(!this.inited&&null!=n.dataArr){this.inited=!0;var i=null===(t=this.content)||void 0===t?void 0:t.getChildByName("template");n.dataArr.forEach((function(t,n){var o,r=l(i);null===(o=e.content)||void 0===o||o.addChild(r),r.active=!0;var a=r.position;p.set(a,a.x,20*-n,0),r.position=a,r.getComponent(u).string=t.resName;var s=r.addComponent(c);r.addComponent(f).mapRes=t.resName;var h=new d;h.component="MapResHandle",h.handler="onCellBtnClick",h.target=r,h.customEventData=JSON.stringify(t),s.clickEvents.push(h)}))}},r.update=function(){this.tryToInit()},r.onBtnClick=function(){this.inited&&(this.showSV=!this.showSV,this.content&&this.content.parent&&this.content.parent.parent&&(this.content.parent.parent.active=this.showSV))},n}(h)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(w.prototype,"btn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/tileMap.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./wfcLoader.ts","./grid.ts"],(function(e){"use strict";var t,r,n,i,a,s,o,c,h,u,p,d,l,f,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator},function(e){a=e.cclegacy,s=e._decorator,o=e.Vec2,c=e.Rect,h=e.Director,u=e.Canvas,p=e.UITransform,d=e.Layers,l=e.Component},function(e){f=e.WfcLoader},function(e){g=e.Grid,v=e.GridState}],execute:function(){var _,y,w,m;a._RF.push({},"d8fa778xQNEXrrJY2EvI4m1","tileMap",void 0);var b=s.ccclass,M=s.property;e("TileMap",b("TileMap")((m=w=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._gridSize=1e3,t.grids=[],t._canvas=null,t._gridMap=new Map,t._canRun=!1,t._OffsetList=[],t}r(t,e);var a=t.prototype;return a.start=function(){var e=h.instance.getScene();this._canvas=null==e?void 0:e.getComponentInChildren(u)},a.update=function(e){this._canRun&&this.ckBorderOver()},a.clear=function(){this._canRun=!1,this._gridMap.forEach((function(e){null==e||e.hide(),e&&e.node.parent&&e.node.parent.removeChild(e.node),g.poolDelete(e)})),this._gridMap.clear(),g.clear()},a.setRes=function(){var e=i(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._canRun){e.next=2;break}return e.abrupt("return");case 2:return n=(r=t).resName,i="https://anseyuyin.github.io/wfc2D/res/samples/"+n+"/",e.next=7,f.getWFC(i);case 7:a=e.sent,this._gridSize=1e3,g.tileSize=50,g.wfcDataImg=a,g.horn=r.horn,this._OffsetList.push(new o(0,1)),this._OffsetList.push(new o(1,0)),this._OffsetList.push(new o(0,-1)),this._OffsetList.push(new o(-1,0)),this._canRun=!0;case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.ckBorderOver=function(){var e,r=t.helpRect,n=this.node.position,i=null===(e=this._canvas)||void 0===e?void 0:e.node.getComponent(p),a=.5*i.width,s=.5*i.height;r.set(-(n.x+a),-(n.y+s),i.width,i.height);var c=.5;r.width+=a*c,r.height+=s*c,r.x-=a*c,r.y-=s*c;var h=Math.floor(r.x/this._gridSize),u=Math.floor((r.x+r.width)/this._gridSize),l=Math.floor(r.y/this._gridSize),f=Math.floor((r.y+r.height)/this._gridSize),v=t.helpV2;v.x=u-h+1,v.y=f-l+1;var _=new Map,y=new Map;this._gridMap.forEach((function(e,t){y.set(t,!0)}));for(var w=0;w<v.x;w++)for(var m=0;m<v.y;m++){var b=w+h+"_"+(m+l);this._gridMap.has(b)?y.delete(b):_.set(b,!0)}for(var M=y.keys();;){var x=M.next();if(x.done)break;var k=this._gridMap.get(x.value);null==k||k.hide(),k&&k.node.parent&&k.node.parent.removeChild(k.node),g.poolDelete(k),this._gridMap.delete(x.value)}for(M=_.keys();;){var S=M.next();if(S.done)break;var L=g.poolNew();this.node.addChild(L.node),L.size=this._gridSize,L.node.layer=d.Enum.UI_2D;var O=S.value.split("_");L.setGridPosition(new o(Number(O[0]),Number(O[1]))),this._gridMap.set(S.value,L)}_.size>0&&this.showGridpass()},a.showGridpass=function(){var e=this;this._gridMap.forEach(function(){var t=i(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,i=r.getPosKey(),r.hasData()){t.next=15;break}n=[],a=[];case 5:if(e.ckNeighbors(r,a,n),!(a.length<1)){t.next=9;break}return t.abrupt("break",15);case 9:return t.next=11,e.toWaitNeighbor(a);case 11:if(i==r.getPosKey()){t.next=13;break}return t.abrupt("break",15);case 13:t.next=5;break;case 15:r.show(n);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},a.ckNeighbors=function(e,t,r){t.length=0,r.length=0;for(var n=e.getGridPosition(),i=0;i<4;i++){var a=this._OffsetList[i],s=n.x+a.x+"_"+(n.y+a.y),o=this._gridMap.get(s);o&&(o.state==v.complete&&r.push(i),o.state==v.collapseing&&t.push(s))}},a.toWaitNeighbor=function(e){var t,r=new Promise((function(e){t=e})),n={};e.forEach((function(e){n[e]=!0}));var i={onCollapsed:function(e){delete n[e],Object.keys(n).length<1&&(g.eventer.RemoveListener(g.ON_COLLAPSED,i.onCollapsed,i),t())}};return g.eventer.On(g.ON_COLLAPSED,i.onCollapsed,i),r},n(t,[{key:"gridSize",get:function(){return this._gridSize},set:function(e){this._gridSize=e}}]),t}(l),w.helpV2=new o,w.helpRect=new c,t((y=m).prototype,"gridSize",[M],Object.getOwnPropertyDescriptor(y.prototype,"gridSize"),y.prototype),_=y))||_);a._RF.pop()}}}));

System.register("chunks:///_virtual/appMain.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./wfcLoader.ts","./tileMap.ts","./downList.ts"],(function(n){"use strict";var e,t,r,s,o,a,i,c,u,p;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator},function(n){r=n.cclegacy,s=n._decorator,o=n.Component,a=n.macro,i=n.dynamicAtlasManager},function(n){c=n.WfcLoader},function(n){u=n.TileMap},function(n){p=n.DownList}],execute:function(){var f;r._RF.push({},"ea491zJoLtLS5qTrFT7zU2L","appMain",void 0);var l=s.ccclass;s.property,n("AppMain",l("AppMain")(f=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.prototype.start=function(){var n=t(regeneratorRuntime.mark((function n(){var e,t,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.CLEANUP_IMAGE_CACHE=!1,i.enabled=!0,"https://anseyuyin.github.io/wfc2D/res/configs/","https://anseyuyin.github.io/wfc2D/res/configs/endlessMap.cfg.json",n.next=6,c.xhrLoad("https://anseyuyin.github.io/wfc2D/res/configs/endlessMap.cfg.json","json");case 6:if(e=n.sent,(t=e.response)&&!(t.length<1)){n.next=10;break}return n.abrupt("return");case 10:p.dataArr=t,null==(r=this.node.scene.getComponentInChildren(u))||r.setRes(t[0]);case 13:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r}(o))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./wfcLoader.ts","./eventer.ts","./grid.ts","./tileMap.ts","./touchMove.ts","./mapResHandle.ts","./downList.ts","./appMain.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});